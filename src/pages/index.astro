---
import MainLayout from "../layouts/MainLayout.astro";
import BreadCrumb from "../components/BreadCrumb.astro";
import CarrouselScroll from "../components/CarrouselScroll.astro";
import CategoryCard from "../components/CategoryCard.astro";
import Banner from "../components/Banner.astro";
import Footer from "../components/Footer.astro";

---
<MainLayout title="Arbejdernes Tennisklub"/> 

<div class="main">

  <h2> Nyheder</h2>

        <section class="newsBig_grid">
          <div class="carousel-container">
            <div class="carousel-track">
              <div class="carousel-item">
                <CarrouselScroll 
                  date="11/11"
                  headline="wow"
                  subheadline="EPIC BATTLE BETWEEN THE "
                />
              </div>
              <div class="carousel-item">
                <CarrouselScroll 
                  date="11/11"
                  headline="wow"
                  subheadline="EPIC BATTLE BETWEEN THE "
                />
              </div>
              <div class="carousel-item">
                <CarrouselScroll 
                  date="11/11"
                  headline="wow"
                  subheadline="EPIC BATTLE BETWEEN THE "
                />
              </div>
              <div class="carousel-item">
                <CarrouselScroll 
                  date="12/12"
                  headline="amazing"
                  subheadline="INCREDIBLE SHOWDOWN"
                />
              </div>
              <div class="carousel-item">
                <CarrouselScroll 
                  date="01/01"
                  headline="unbelievable"
                  subheadline="UNREAL CLASH"
                />
              </div>
            </div>
            <div class="carousel-navigation">
              <img src="/img/svg/redarrowLeft_1.svg" id="prevButton"></img>
              <img src="/img/svg/redarrowRight_1.svg" id="nextButton"></img>
            </div>
            <div class="carousel-indicators">
              <div class="carousel-indicator active" data-slide-to="0"></div>
              <div class="carousel-indicator" data-slide-to="1"></div>
              <div class="carousel-indicator" data-slide-to="2"></div>
              <div class="carousel-indicator" data-slide-to="3"></div>
              <div class="carousel-indicator" data-slide-to="4"></div>
            </div>
          </div> 
        </section>

<h2>AKTIVITETER</h2>

        <section class="newsSmall_grid">
        <CarrouselScroll class="carrousel1"
        date="11/11"
        headline="wow"
        subheadline="EPIC BATTLE BETWEEN THE "
        />
        <CarrouselScroll class="carrousel1"
        date="22/22"
        headline="wow"
        subheadline="EPIC BATTLE BETWEEN THE "
        />
        <CarrouselScroll class="carrousel1"
        date="33/33"
        headline="wow"
        subheadline="EPIC BATTLE BETWEEN THE "
        />
        </section>

        <section class="categoryCard_grid1">
        <a href="/juniortraening">
        <CategoryCard
        imgPath="../img/Tennisballsracket.webp"
        title="JUNIOR"/>
        </a>

        <a href="/motionisttraening">
        <CategoryCard 
        imgPath="../img/Tennisballsracket.webp"
        title="SENIOR"/>
        </a>

        <a href="/seniortraening">
        <CategoryCard 
        imgPath="../img/Tennisballsracket.webp"
        title="MOTIONIST"/>
        </a>

        <a href="/elitetraening">
        <CategoryCard 
        imgPath="../img/Tennisballsracket.webp"
        title="ELITE"/>
        </a>
        </section>
</div>

<Footer />

<style>

.carousel-container {
      width: 760px;
      display: flex;
      overflow: hidden;
      position: relative;
      margin: auto;
    }
    .carousel-track {
      display: flex;
      transition: transform 1s ease-in-out;
    }
 
  .newsBig_grid{
   }
  
  .newsSmall_grid{
    display:flex;
    justify-content: center; 
    align-items: center; 
    margin:10%;
    gap: 20px;
  }

  .carousel-container {
    width: 760px;
    display: flex;
    overflow: hidden;
    position: relative;
    margin: auto;
  }
  .carousel-track {
    display: flex;
    transition: transform 0.5s ease-in-out;
  }
  .carousel-item {
    flex: 0 0 100%;
  }
  .carousel-navigation {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 2;
  }
  .carousel-navigation img {
    background: rgba(255, 255, 255, 0.5);
    width: 50px;
    border: none;
    padding: 10px;
    cursor: pointer;
  }
  .carousel-indicators {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    z-index: 2;
  }
  .carousel-indicator {
    width: 10px;
    height: 10px;
    background-color: #ccc;
    border-radius: 50%;
    margin: 0 5px;
    cursor: pointer;
  }
  .carousel-indicator.active {
    background-color: #555;
  }
</style>


<script>
    const track = document.querySelector('.carousel-track') as HTMLElement;
    const items = document.querySelectorAll('.carousel-item') as NodeListOf<HTMLElement>;
    const totalItems = items.length;
    const itemWidth = items[0].offsetWidth;
    const indicators = document.querySelectorAll('.carousel-indicator');
  
    let index = 0;
  
    function updateCarousel() {
      track.style.transform = `translateX(-${index * itemWidth}px)`;
      updateIndicators();
    }
  
    function nextSlide() {
      index = (index < totalItems - 1) ? index + 1 : 0;
      updateCarousel();
    }
  
    function prevSlide() {
      index = (index > 0) ? index - 1 : totalItems - 1;
      updateCarousel();
    }
  
    function goToSlide(idx: number) {
      index = idx;
      updateCarousel();
    }
  
    function updateIndicators() {
      indicators.forEach((indicator, idx) => {
        if (idx === index) {
          indicator.classList.add('active');
        } else {
          indicator.classList.remove('active');
        }
      });
    }
  
    document.getElementById('nextButton')!.addEventListener('click', nextSlide);
    document.getElementById('prevButton')!.addEventListener('click', prevSlide);
  
    indicators.forEach(indicator => {
      indicator.addEventListener('click', (event) => {
        const target = event.target as HTMLElement;
        const slideTo = target.getAttribute('data-slide-to');
        if (slideTo !== null) {
          goToSlide(parseInt(slideTo));
        }
      });
    });
  
    setInterval(nextSlide, 5000); // Auto slide every 5 seconds
  </script>
---
import MainLayout from "../layouts/MainLayout.astro";
import CarrouselScroll from "../components/CarrouselScroll.astro";
import CategoryCard from "../components/CategoryCard.astro";
import Banner from "../components/Banner.astro";
import Footer from "../components/Footer.astro";
---
<MainLayout title="Arbejdernes Tennisklub"/>

<div class="main">

<h1> nyheder</h1>

<section class="newsBig_grid">
  <div class="carousel-container">
    <div class="carousel-track">
      <div class="carousel-item">
        <CarrouselScroll 
          date="11/11"
          headline="wow"
          subheadline="EPIC BATTLE BETWEEN THE "
        />
      </div>
      <div class="carousel-item">
        <CarrouselScroll 
          date="11/11"
          headline="wow"
          subheadline="EPIC BATTLE BETWEEN THE "
        />
      </div>
      <div class="carousel-item">
        <CarrouselScroll 
          date="11/11"
          headline="wow"
          subheadline="EPIC BATTLE BETWEEN THE "
        />
      </div>
      <div class="carousel-item">
        <CarrouselScroll 
          date="12/12"
          headline="amazing"
          subheadline="INCREDIBLE SHOWDOWN"
        />
      </div>
      <div class="carousel-item">
        <CarrouselScroll 
          date="01/01"
          headline="unbelievable"
          subheadline="UNREAL CLASH"
        />
      </div>
    </div>
    <div class="carousel-navigation">
      <img src="/img/svg/redarrowLeft_1.svg" id="prevButton"></img>
      <img src="/img/svg/redarrowRight_1.svg" id="nextButton"></img>
    </div>
    <div class="carousel-indicators">
      <div class="carousel-indicator active" data-slide-to="0"></div>
      <div class="carousel-indicator" data-slide-to="1"></div>
      <div class="carousel-indicator" data-slide-to="2"></div>
      <div class="carousel-indicator" data-slide-to="3"></div>
      <div class="carousel-indicator" data-slide-to="4"></div>
    </div>
  </div> 
</section>

<h2>AKTIVITETER</h2>
<section class="newsSmall_grid">
<CarrouselScroll class="carrousel1"
date="11/11"
headline="wow"
subheadline="EPIC BATTLE BETWEEN THE "
/>
<CarrouselScroll class="carrousel1"
date="22/22"
headline="wow"
subheadline="EPIC BATTLE BETWEEN THE "
/>
<CarrouselScroll class="carrousel1"
date="33/33"
headline="wow"
subheadline="EPIC BATTLE BETWEEN THE "
/>
</section>

<section class="categoryCard_grid1">
<a href="/juniortraening">
<CategoryCard
imgPath="../img/Tennisballsracket.webp"
title="JUNIOR"/>
</a>

<a href="/motionisttraening">
<CategoryCard 
imgPath="../img/Tennisballsracket.webp"
title="SENIOR"/>
</a>

<a href="/seniortraening">
 <CategoryCard 
imgPath="../img/Tennisballsracket.webp"
title="MOTIONIST"/>
</a>

<a href="/elitetraening">
<CategoryCard 
imgPath="../img/Tennisballsracket.webp"
title="ELITE"/>
</a>
</section>

<Banner 
src="bannerBg.png"
btnTitle="TJEK MAKKERBÃ˜RS"
/>
</div>

<Footer />

<!-- --------------------------------------------------------------------------------- -->
<style>
  
/***** MOBIL *****/
@media (max-width: 768px) {
    img {
        display: none;
    }
  .newsSmall_grid{
    display:flex;
    flex-direction: column;
    gap: 20px;
  }
    .breadcrumb_trail {
        display: none;
    }
}
/***** DESK *****/
@media (min-width: 768px) {
img{
    width:0.8%;
}

.breadcrumb_trail img {
        width:0.7%;
    }
    .main{
    margin-top: 540px;
  }
  .newsBig_grid{
    display: flex;
    justify-content: center; 
    align-items: center; 
    height: 100vh; 
    margin: 0; 
   }
  }
  .newsSmall_grid{
    display:flex;
    margin:10%;
    gap: 20px;
  }

  .carousel-container {
    width: 760px;
    display: flex;
    overflow: hidden;
    position: relative;
    margin: auto;
  }
  .carousel-track {
    display: flex;
    transition: transform 0.5s ease-in-out;
  }
  .carousel-item {
    flex: 0 0 100%;
  }
  .carousel-navigation {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 2;
  }
  .carousel-navigation img {
    background: rgba(255, 255, 255, 0.5);
    width: 50px;
    border: none;
    padding: 10px;
    cursor: pointer;
  }
  .carousel-indicators {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    z-index: 2;
  }
  .carousel-indicator {
    width: 10px;
    height: 10px;
    background-color: #ccc;
    border-radius: 50%;
    margin: 0 5px;
    cursor: pointer;
  }
  .carousel-indicator.active {
    background-color: #555;
  }
</style>


<script>
  const track = document.querySelector('.carousel-track') as HTMLElement;
  const items = document.querySelectorAll('.carousel-item') as NodeListOf<HTMLElement>;
  const totalItems = items.length;
  const itemWidth = items[0].offsetWidth;
  const indicators = document.querySelectorAll('.carousel-indicator');

  let index = 0;

  function updateCarousel() {
    track.style.transform = `translateX(-${index * itemWidth}px)`;
    updateIndicators();
  }

  function nextSlide() {
    index = (index < totalItems - 1) ? index + 1 : 0;
    updateCarousel();
  }

  function prevSlide() {
    index = (index > 0) ? index - 1 : totalItems - 1;
    updateCarousel();
  }

  function goToSlide(idx: number) {
    index = idx;
    updateCarousel();
  }

  function updateIndicators() {
    indicators.forEach((indicator, idx) => {
      if (idx === index) {
        indicator.classList.add('active');
      } else {
        indicator.classList.remove('active');
      }
    });
  }

  document.getElementById('nextButton')!.addEventListener('click', nextSlide);
  document.getElementById('prevButton')!.addEventListener('click', prevSlide);

  indicators.forEach(indicator => {
    indicator.addEventListener('click', (event) => {
      const target = event.target as HTMLElement;
      const slideTo = target.getAttribute('data-slide-to');
      if (slideTo !== null) {
        goToSlide(parseInt(slideTo));
      }
    });
  });

  setInterval(nextSlide, 5000); // Auto slide every 5 seconds
  
</script>